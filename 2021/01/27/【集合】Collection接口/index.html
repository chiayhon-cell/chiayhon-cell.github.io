<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"chiayhon-cell.gitee.io","root":"/","images":"/images","scheme":"Muse","version":"8.2.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>
<meta name="description" content="前言本篇主要介绍 Collection接口">
<meta property="og:type" content="article">
<meta property="og:title" content="【集合】Collection接口">
<meta property="og:url" content="http://chiayhon-cell.gitee.io/2021/01/27/%E3%80%90%E9%9B%86%E5%90%88%E3%80%91Collection%E6%8E%A5%E5%8F%A3/index.html">
<meta property="og:site_name" content="chiayhon的小站">
<meta property="og:description" content="前言本篇主要介绍 Collection接口">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-01-27T13:55:24.000Z">
<meta property="article:modified_time" content="2021-01-29T12:04:27.293Z">
<meta property="article:author" content="chiayhon">
<meta property="article:tag" content="JAVA SE">
<meta property="article:tag" content="集合框架">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://chiayhon-cell.gitee.io/2021/01/27/%E3%80%90%E9%9B%86%E5%90%88%E3%80%91Collection%E6%8E%A5%E5%8F%A3/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>【集合】Collection接口 | chiayhon的小站</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="chiayhon的小站" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">chiayhon的小站</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">欢迎光临</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Collection%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B%E5%8F%8A%E5%85%B6API"><span class="nav-text">1. Collection接口简介及其API</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E4%BB%8B%E7%BB%8D"><span class="nav-text">1.1 介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-Collection%E6%8E%A5%E5%8F%A3Api%E4%B8%80%E8%A7%88"><span class="nav-text">1.2 Collection接口Api一览</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C"><span class="nav-text">1.2.1 查询操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-%E4%BF%AE%E6%94%B9%E6%93%8D%E4%BD%9C"><span class="nav-text">1.2.2 修改操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-%E6%89%B9%E9%87%8F%E6%93%8D%E4%BD%9C"><span class="nav-text">1.2.3 批量操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-4-%E5%B9%B6%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="nav-text">1.2.4 并行操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81"><span class="nav-text">2. 底层源码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-Collection%E6%8E%A5%E5%8F%A3%E9%83%A8%E5%88%86%E6%BA%90%E7%A0%81"><span class="nav-text">2.1 Collection接口部分源码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-AbstractCollection%E9%83%A8%E5%88%86%E6%BA%90%E7%A0%81"><span class="nav-text">2.2 AbstractCollection部分源码</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="chiayhon"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">chiayhon</p>
  <div class="site-description" itemprop="description">渴望早睡晚起</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/chiayhon-cell" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chiayhon-cell" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chiayhon-cell.gitee.io/2021/01/27/%E3%80%90%E9%9B%86%E5%90%88%E3%80%91Collection%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chiayhon">
      <meta itemprop="description" content="渴望早睡晚起">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chiayhon的小站">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【集合】Collection接口
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-01-27 21:55:24" itemprop="dateCreated datePublished" datetime="2021-01-27T21:55:24+08:00">2021-01-27</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-01-29 20:04:27" itemprop="dateModified" datetime="2021-01-29T20:04:27+08:00">2021-01-29</time>
      </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>25k</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本篇主要介绍 Collection接口</p>
<a id="more"></a>

<h1 id="1-Collection接口简介及其API"><a href="#1-Collection接口简介及其API" class="headerlink" title="1. Collection接口简介及其API"></a>1. Collection接口简介及其API</h1><p>　　在了解 Collection 接口之前，需要明白两点：什么是 <code>Collection</code>？为什么要定义成接口？</p>
<p>　　在思考第一个问题之前，不妨先思考这么一个问题：假如让你去开发java的集合框架，你的思路是什么？很显然，最简单的方式就是直接定义几个类，分别实现线性表、栈、队列、集合、哈希表等等数据结构。这就引申出了几个问题：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 假如用户根据自身实际场景想用自己的方式实现一个数据结构，应该如何操作？</span><br><span class="line"><span class="bullet">2.</span> 假如用户开始使用了无序线性表，因为需求改变要使用有序线性表，应该怎么操作？</span><br><span class="line"><span class="bullet">3.</span> 假如开发者要对已有的API进行升级，用在哈希表中添加更高效的方法实现，需要改动多少东西？</span><br></pre></td></tr></table></figure>
<p>　　其实归根结底，就是<strong>维护和扩展</strong>成本的问题。那么问题又来了，在java中集合是怎么设计的呢？仔细端详整个集合框架，不难发现有以下特点：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 有一个高度抽象的根节点接口。通过继承根接口可以定义许多更具体的子接口来定义不同的数据结构。而根接口定义了子接口中共有方法，提高代码复用率。</span><br><span class="line"><span class="bullet">2.</span> 接口都有对应的抽象类。抽象类实现了接口的部分方法，对于有需要的用户，可以自定义集合快速扩展自己的业务。</span><br><span class="line"><span class="bullet">3.</span> 抽象类有具体的实现，对于没有自定义集合需求的用户，可以直接调用。</span><br></pre></td></tr></table></figure>
<p>　　这样设计明显提高了代码的维护性和扩展性</p>
<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        集合框架设计思想
    </div>
    <div class='spoiler-content'>
        <p>The main design goal was to produce an API that was small in size and, more importantly, in “conceptual weight.” It was critical that the new functionality not seem too different to current Java programmers; it had to augment current facilities, rather than replace them. At the same time, the new API had to be powerful enough to provide all the advantages described previously.</p>
<p>To keep the number of core interfaces small, the interfaces do not attempt to capture such subtle distinctions as mutability, modifiability, and resizability. Instead, certain calls in the core interfaces are <em>optional</em>, enabling implementations to throw an <code>UnsupportedOperationException</code> to indicate that they do not support a specified optional operation. Collection implementers must clearly document which optional operations are supported by an implementation.</p>
<p>To keep the number of methods in each core interface small, an interface contains a method only if either:</p>
<ul>
<li>It is a truly <em>fundamental operation</em>: a basic operations in terms of which others could be reasonably defined,</li>
<li>There is a compelling performance reason why an important implementation would want to override it.</li>
</ul>
<p>It was critical that all reasonable representations of collections interoperate well. This included arrays, which cannot be made to implement the <code>Collection</code> interface directly without changing the language. Thus, the framework includes methods to enable collections to be moved into arrays, arrays to be viewed as collections, and maps to be viewed as collections.</p>
<hr>
<p>主要的设计目标是产生一个小而美的API，更重要的是强调”小“。对于当前的Java程序员来说，新的功能不能有太大的不同，这一点至关重要。并且应该遵循开闭原则：对扩展开放，对修改关闭。与此同时新的API必须足够强大，以提供前面描述的所有优点。</p>
<p>为了使核心接口的数量保持较小，接口不会试图捕获诸如可变性、可修改性和可调整大小等细微差别。相反，核心接口中的某些方法是<em>optional</em>（可选的），使实现能够抛出一个<code>UnsupportedOperationException</code>来指示它们不支持指定的可选操作。集合实现者必须清楚地记录实现支持哪些可选操作。</p>
<p>为了使每个核心接口中的方法数保持较小，接口仅在以下任一情况下包含方法：</p>
<ul>
<li><p>这是一种真正的“基本操作”：一种可以合理定义其他操作的基本操作，</p>
</li>
<li><p>一个重要的实现之所以要覆盖它，有一个令人信服的性能原因。</p>
</li>
</ul>
<p>至关重要的是，集合的所有合理表示都能很好地互操作。这包括数组，如果不改变语言，就不能直接实现“Collection”接口。因此，该框架包括使集合能够移动到数组中、将数组视为集合以及将映射视为集合的方法。</p>

    </div>
</div>



<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        集合框架的优点
    </div>
    <div class='spoiler-content'>
        <ul>
<li><strong>Reduces programming effort</strong> by providing data structures and algorithms so you don’t have to write them yourself.</li>
<li><strong>Increases performance</strong> by providing high-performance implementations of data structures and algorithms. Because the various implementations of each interface are interchangeable, programs can be tuned by switching implementations.</li>
<li><strong>Provides interoperability between unrelated APIs</strong> by establishing a common language to pass collections back and forth.</li>
<li><strong>Reduces the effort required to learn APIs</strong> by requiring you to learn multiple ad hoc collection APIs.</li>
<li><strong>Reduces the effort required to design and implement APIs</strong> by not requiring you to produce ad hoc collections APIs.</li>
<li><strong>Fosters software reuse</strong> by providing a standard interface for collections and algorithms with which to manipulate them.</li>
</ul>
<hr>
<ul>
<li><strong>通过提供数据结构和算法来减少编程工作量</strong>，这样就不必自己编写了。</li>
<li><strong>通过提供数据结构和算法的高性能实现来提高性能</strong>。因为每个接口的各种实现是可互换的，所以可以通过切换实现来调整程序。</li>
<li><strong>通过建立一种公共语言来来回传递集合，在不相关的API之间提供互操作性</strong>。</li>
<li><strong>通过要求您学习多个临时集合API，减少学习API所需的工作量</strong>。</li>
<li><strong>减少了设计和实现API所需的工作量</strong>，因为不需要生成特殊集合API。</li>
<li><strong>通过为集合和算法提供一个标准接口来操纵它们，从而促进软件重用</strong>。</li>
</ul>

    </div>
</div>

<h2 id="1-1-介绍"><a href="#1-1-介绍" class="headerlink" title="1.1 介绍"></a>1.1 介绍</h2><p>　　到这里就很清楚： <code>Collection</code> 是集合框架的根接口，高度抽象出了具体集合的公共方法，便于集合的扩展与维护。那么什么是 <code>Collection</code> 呢？</p>
<p>　　关于 <code>Collection</code> ，<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html">官方文档</a>是这么定义的：</p>
<blockquote>
<p>A <code>Collection</code> represents a group of objects known as its elements. The <code>Collection</code> interface is used to pass around collections of objects where maximum generality is desired.</p>
</blockquote>
<p>　　即 <code>Collection</code> 是一组对象的统称，这些对象被称为它的元素。一般我们把 <code>Collection</code> 称为单列集合。</p>
<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        Collection源码文档注释
    </div>
    <div class='spoiler-content'>
        <p>The root interface in the collection hierarchy. A collection represents a group of objects, known as its elements. Some collections allow duplicate elements and others do not. Some are ordered and others unordered. The JDK does not provide any direct implementations of this interface: it provides implementations of more specific subinterfaces like Set and List. This interface is typically used to pass collections around and manipulate them where maximum generality is desired.<br>Bags or multisets (unordered collections that may contain duplicate elements) should implement this interface directly.</p>
<p>All general-purpose Collection implementation classes (which typically implement Collection indirectly through one of its subinterfaces) should provide two “standard” constructors: a void (no arguments) constructor, which creates an empty collection, and a constructor with a single argument of type Collection, which creates a new collection with the same elements as its argument. In effect, the latter constructor allows the user to copy any collection, producing an equivalent collection of the desired implementation type. There is no way to enforce this convention (as interfaces cannot contain constructors) but all of the general-purpose Collection implementations in the Java platform libraries comply.</p>
<p>The “destructive” methods contained in this interface, that is, the methods that modify the collection on which they operate, are specified to throw UnsupportedOperationException if this collection does not support the operation. If this is the case, these methods may, but are not required to, throw an UnsupportedOperationException if the invocation would have no effect on the collection. For example, invoking the addAll(Collection) method on an unmodifiable collection may, but is not required to, throw the exception if the collection to be added is empty.</p>
<p>Some collection implementations have restrictions on the elements that they may contain. For example, some implementations prohibit null elements, and some have restrictions on the types of their elements. Attempting to add an ineligible element throws an unchecked exception, typically NullPointerException or ClassCastException. Attempting to query the presence of an ineligible element may throw an exception, or it may simply return false; some implementations will exhibit the former behavior and some will exhibit the latter. More generally, attempting an operation on an ineligible element whose completion would not result in the insertion of an ineligible element into the collection may throw an exception or it may succeed, at the option of the implementation. Such exceptions are marked as “optional” in the specification for this interface.</p>
<p>It is up to each collection to determine its own synchronization policy. In the absence of a stronger guarantee by the implementation, undefined behavior may result from the invocation of any method on a collection that is being mutated by another thread; this includes direct invocations, passing the collection to a method that might perform invocations, and using an existing iterator to examine the collection.</p>
<p>Many methods in Collections Framework interfaces are defined in terms of the equals method. For example, the specification for the contains(Object o) method says: “returns true if and only if this collection contains at least one element e such that (o==null ? e==null : o.equals(e)).” This specification should not be construed to imply that invoking Collection.contains with a non-null argument o will cause o.equals(e) to be invoked for any element e. Implementations are free to implement optimizations whereby the equals invocation is avoided, for example, by first comparing the hash codes of the two elements. (The Object.hashCode() specification guarantees that two objects with unequal hash codes cannot be equal.) More generally, implementations of the various Collections Framework interfaces are free to take advantage of the specified behavior of underlying Object methods wherever the implementor deems it appropriate.</p>
<p>Some collection operations which perform recursive traversal of the collection may fail with an exception for self-referential instances where the collection directly or indirectly contains itself. This includes the clone(), equals(), hashCode() and toString() methods. Implementations may optionally handle the self-referential scenario, however most current implementations do not do so.</p>
<p>This interface is a member of the Java Collections Framework.</p>
<hr>
<p>集合层次结构中的根接口。 集合表示一组对象，称为其元素。 一些集合允许重复的元素，而另一些则不允许。 一些是有序的，而其他则是无序的。 JDK不提供此接口的任何直接实现：它提供更具体的子接口（例如Set和List）的实现。 该接口通常用于传递集合，并在需要最大通用性的地方操作它们。<br>Bag或多集（可能包含重复元素的无序集合）应直接实现此接口。<br>所有通用的Collection实现类（通常通过其子接口之一间接实现Collection ）都应提供两个“标准”构造函数：一个void（无参数）构造函数，用于创建一个空集合，以及一个类型为单个参数的构造函数Collection ，它将创建一个新集合，其元素与其参数相同。 实际上，后一个构造函数允许用户复制任何集合，从而生成所需实现类型的等效集合。 没有强制执行此约定的方法（因为接口不能包含构造函数），但是Java平台库中的所有通用Collection实现都遵从。<br>如果此集合不支持该操作，则指定该接口中包含的“破坏性”方法（即，修改其操作的集合的方法）以引发UnsupportedOperationException 。 在这种情况下，如果调用对集合没有影响，则这些方法可能会（但不是必需）引发UnsupportedOperationException 。 例如，如果要添加的集合为空，则对一个不可修改的集合调用addAll(Collection)方法可能（但并非必须）引发异常。<br>一些集合实现对它们可能包含的元素有限制。 例如，某些实现禁止使用null元素，而某些实现对其元素类型进行限制。 尝试添加不合格元素会引发未经检查的异常，通常是NullPointerException或ClassCastException 。 尝试查询不合格元素的存在可能会引发异常，或者可能仅返回false；否则，可能会返回false。 一些实现将表现出前一种行为，而某些将表现出后者。 更一般地，尝试对不合格元素进行操作，该操作的完成不会导致将不合格元素插入集合中，这可能会导致异常或成功实现，具体取决于实现方式。 此类异常在此接口的规范中标记为“可选”。<br>由每个集合决定自己的同步策略。 在实现没有更强有力的保证的情况下，未定义的行为可能是由于调用另一个线程正在变异的集合上的任何方法而导致的； 这包括直接调用，将集合传递给可能执行调用的方法，以及使用现有的迭代器检查集合。<br>Collections Framework接口中的许多方法都是根据equals方法定义的。 例如， contains(Object o)方法的规范说：“当且仅当此集合包含至少一个元素e使得（o == null？e == null：o.equals（e））时，返回true。 ” 本说明书不应被解释为暗示具有非空参数ö调用Collection.contains将导致o.equals（e）中被调用用于任何要素e。 实现可以自由地进行优化，从而避免了等号调用，例如，首先比较两个元素的哈希码。 （ Object.hashCode()规范保证了具有不相等哈希码的两个对象不能相等。）更一般而言，各种Collections Framework接口的实现都可以在实现者认为合适的地方随意利用底层Object方法的指定行为。 。<br>某些执行集合递归遍历的集合操作可能会失败，但自直接引用实例的例外情况是，集合直接或间接包含自身。 这包括clone() ， equals() ， hashCode()和toString()方法。 实现可以有选择地处理自引用场景，但是大多数当前实现不这样做。<br>该接口是Java Collections Framework的成员。</p>

    </div>
</div>

<br>

<p>　　<strong>总结：Collection即单列集合，统一定义了一套单列集合的接口。Collection接口是List、Set等子接口高度抽象出来的接口，它包含了这些集合的基本操作。</strong></p>
<h2 id="1-2-Collection接口Api一览"><a href="#1-2-Collection接口Api一览" class="headerlink" title="1.2 Collection接口Api一览"></a>1.2 Collection接口Api一览</h2><p>由图中我们可以看出：</p>
<ul>
<li><p>重写了Iterable接口的iterator方法。</p>
</li>
<li><p>重写了Object类的equals和hashCode方法。</p>
</li>
<li><p>定义了一系列待实现方法。</p>
</li>
</ul>
<p><strong>为什么重写Iterable接口的iterator方法？</strong></p>
<p>　　很直观。我们一看注释其实就能大概明白Java设计人员的思路，其实Iterable接口可以看成许多容器类共同特性被提取出来做了接口。而相对于不同容器，这个共有特性的具体实现细节又不同。既然不同所以又要自己定义自己系列的迭代器规则，并让所有实现类都遵循这个规则。</p>
<p>　　对于Collection接口来说，它规定子接口及其实现类都必须满足它重新设定的规则。</p>
<blockquote>
<p>Returns an iterator over the elements in this collection. There are no guarantees concerning the order in which the elements are returned</p>
<p>针对于集合中的所有元素返回一个该集合的迭代器。 但是该迭代器无法保证元素间具有顺序性。(除非这个集合是某个具有这一特性的类的实例)</p>
</blockquote>
<p>这里只列出Collection 接口API方法概要，具体详情请自查API文档(<a target="_blank" rel="noopener" href="https://www.matools.com/api/java8">中文</a> ， <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/">英文</a>)</p>
<h3 id="1-2-1-查询操作"><a href="#1-2-1-查询操作" class="headerlink" title="1.2.1 查询操作"></a>1.2.1 查询操作</h3><table>
<thead>
<tr>
<th>返回类型</th>
<th>方法及其描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>int</code></td>
<td><code>size()</code>　　返回此 collection 中的元素数。</td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>isEmpty()</code>　　如果此 collection 不包含元素，则返回 <code>true</code>。</td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>contains(Object o)</code>　　如果此 collection 包含指定的元素，则返回 <code>true</code>。</td>
</tr>
<tr>
<td><code>Object[]</code></td>
<td><code>toArray()</code>　　返回包含此 collection 中所有元素的数组。</td>
</tr>
<tr>
<td><code>&lt;T&gt; T[]</code></td>
<td><code>toArray(T[] a)</code>　　返回包含此 collection 中所有元素的数组；返回数组的运行时类型与指定数组的运行时类型相同。</td>
</tr>
<tr>
<td><code>Iterator&lt;E&gt;</code></td>
<td><code>iterator()</code>　　返回在此 collection 的元素上进行迭代的迭代器。</td>
</tr>
<tr>
<td><code>default Spliterator&lt;E&gt;</code></td>
<td><code>spliterator()</code>创建一个<code>Spliterator</code>在这个集合中的元素。</td>
</tr>
</tbody></table>
<h3 id="1-2-2-修改操作"><a href="#1-2-2-修改操作" class="headerlink" title="1.2.2 修改操作"></a>1.2.2 修改操作</h3><table>
<thead>
<tr>
<th>返回类型</th>
<th>方法及其描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>boolean</code></td>
<td><code>add(E e)</code>　　确保此 collection 包含指定的元素（可选操作）。</td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>remove(Object o)</code>　　从此 collection 中移除指定元素的单个实例，如果存在的话（可选操作）。</td>
</tr>
</tbody></table>
<h3 id="1-2-3-批量操作"><a href="#1-2-3-批量操作" class="headerlink" title="1.2.3 批量操作"></a>1.2.3 批量操作</h3><table>
<thead>
<tr>
<th>返回类型</th>
<th>方法及其描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>boolean</code></td>
<td><code>containsAll(Collection&lt;?&gt; c)</code>    　　如果此 collection 包含指定 collection 中的所有元素，则返回 <code>true</code>。</td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>addAll(Collection&lt;? extends E&gt; c)</code>　　将指定 collection 中的所有元素都添加到此 collection 中（可选操作）。</td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>removeAll(Collection&lt;?&gt; c)</code>　　移除此 collection 中那些也包含在指定 collection 中的所有元素（可选操作）</td>
</tr>
<tr>
<td><code>default boolean</code></td>
<td><code>removeIf(Predicate&lt;? super E&gt; filter)</code>删除满足给定谓词的此集合的所有元素。</td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>retainAll(Collection&lt;?&gt; c)</code>仅保留此集合中包含在指定集合中的元素（可选操作）。</td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>clear()</code>从此集合中删除所有元素（可选操作）。</td>
</tr>
</tbody></table>
<h3 id="1-2-4-并行操作"><a href="#1-2-4-并行操作" class="headerlink" title="1.2.4 并行操作"></a>1.2.4 并行操作</h3><table>
<thead>
<tr>
<th>返回类型</th>
<th>方法及其描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>default Stream&lt;E&gt;</code></td>
<td><code>parallelStream()</code>返回可能并行的 <code>Stream</code>与此集合作为其来源。</td>
</tr>
<tr>
<td><code>default Stream&lt;E&gt;</code></td>
<td><code>stream()</code>返回以此集合作为源的顺序 <code>Stream</code> 。</td>
</tr>
</tbody></table>
<h1 id="2-底层源码"><a href="#2-底层源码" class="headerlink" title="2. 底层源码"></a>2. 底层源码</h1><p>　　要理解集合需要阅读源码，如果时间足够可以跟着敲一遍，能理解得比较深刻。如下为部分本人阅读过的API</p>
<h2 id="2-1-Collection接口部分源码"><a href="#2-1-Collection接口部分源码" class="headerlink" title="2.1 Collection接口部分源码"></a>2.1 Collection接口部分源码</h2><div class='spoiler collapsed'>
    <div class='spoiler-title'>
        Collection接口示例
    </div>
    <div class='spoiler-content'>
        <figure class="highlight java"><figcaption><span>MyCollection接口</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:</span></span><br><span class="line"><span class="comment"> * 概要：</span></span><br><span class="line"><span class="comment"> * Collection接口是集合的根接口。集合用于存储一组对象，而这些对象一般称为集合的元素。不同的集合对元素可以有不同的规则，例如，</span></span><br><span class="line"><span class="comment"> * 一些集合可以要求集合里的元素是有序的，或者是不能重复存储，亦或者是两者都要求。</span></span><br><span class="line"><span class="comment"> * 继承链：</span></span><br><span class="line"><span class="comment"> * Collection接口一般不提供任何的直接实现，它一般用于定义所有子接口的共有方法，是所有子接口的高度抽象。每个子接口是某种特定的集合的方法规范，</span></span><br><span class="line"><span class="comment"> * 而根接口则是包含了这些集合的所有通用的基本操作。Collection接口可以被间接实现，即通过实现子接口间接实现。</span></span><br><span class="line"><span class="comment"> * 初始化：</span></span><br><span class="line"><span class="comment"> * 所有的Collection实现类都应该提供两种&quot;标准&quot;构造方法：一个是void(无参数)构造方法，用于创建空的集合;另一个是形参为Collection类型的单参</span></span><br><span class="line"><span class="comment"> * 数构造方法，用于创建一个与传入参数有相同元素的新集合。</span></span><br><span class="line"><span class="comment"> * 使用场景：</span></span><br><span class="line"><span class="comment"> * Collection接口使用场景多是作为形参传递某种集合(利用多态性),或者是在集合通用方法的使用频率高的地方进行使用(最大普遍性)。</span></span><br><span class="line"><span class="comment"> * 关于异常：</span></span><br><span class="line"><span class="comment"> * Collection接口包含修改集合元素的方法，如果实现的集合不支持该操作，则这些方法应该抛出 UnsupportedOperationException。另外，某些</span></span><br><span class="line"><span class="comment"> * 集合对它们的元素会有限制，例如，某些实现会禁止将null加入其集合中。此时若试图将不合法元素加入集合，应该抛出一个非受检异常，通常是</span></span><br><span class="line"><span class="comment"> * NullPointerException 或 ClassCastException。又或者，试图查询集合中是否存在不合法元素时，可以抛出一个异常，或者返回false，这取决于集合</span></span><br><span class="line"><span class="comment"> * 的具体实现。总之对于这样子的异常在此接口的规范中是&quot;可选&quot;的</span></span><br><span class="line"><span class="comment"> * 关于同步：</span></span><br><span class="line"><span class="comment"> * Collection不提供同步策略，由每个集合自身来确定同步策略</span></span><br><span class="line"><span class="comment"> * 关于equals方法：</span></span><br><span class="line"><span class="comment"> * 集合中很多方法都是基于equals方法定义的。例如，contains(Object obj) 方法的规范声明：“当且仅当此集合包含至少一个满足</span></span><br><span class="line"><span class="comment"> * (obj==null ? e==null :obj.equals(e)) 表达式的元素 e 时，返回 true。”。但这不是暗指：调用非空参数obj的Collection.contains方法时</span></span><br><span class="line"><span class="comment"> * 一定会调用obj.equals(e)，这里只是解释集合很多方法依赖于equals方法来完成，如果有更好的优化也可以避免使用equals方法，例如可以先比较两元素的</span></span><br><span class="line"><span class="comment"> * 哈希码是否相等。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: &lt;Element&gt; 集合中元素的类型</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span>: 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span>: jdk1.8</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">Element</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//===========查询操作===========</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: size()方法用于返回此集合中的元素数</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 此集合中元素的数量</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: isEmpty()方法用于查询集合是否为空</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 如果集合没有元素则返回 true</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: contain(Object obj)方法用于查找是否包含指定元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> obj: 将要检查是否存在于此集合中的元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 如果此集合包含指定的元素，则返回true</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> ClassCastException: 如果指定元素的类型与此集合不兼容（可选）</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> NullPointerException: 如果指定的元素为null，并且此集合不允许为null的元素（可选)</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">contain</span><span class="params">(Object obj)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: iterator()方法用于获得用于遍历数组的迭代器。</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 返回一个包含该集合元素的迭代器。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function">Iterator&lt;Element&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: toArray()方法返回一个包含集合所有元素的Object类型的数组</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: Object类型的数组</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    Object[] toArray();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: toArray(Type[] array)方法指定一个Type类型的数组，将集合中的所有元素存入其中(要求集合中的元素也是Type类型或其子类型)</span></span><br><span class="line"><span class="comment">     * ,若指定数组不能容纳集合中的所有元素，则将创建一个长度与集合元素数量相等的数组，然后将所有集合元素存入其中并返回。</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> array: 指定一个用于存放所有元素的Type类型的数组</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 存放着所有元素的数组</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    &lt;Type&gt; Type[] toArray(Type[] array);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//===========修改操作===========</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: add(Element element)方法用于确保集合中包含指定元素。如果添加成功，则返回true。如果集合不允许元素重复,且集合中已经包</span></span><br><span class="line"><span class="comment">    * 含指定元素，此时返回false，除此原因之外，集合因为其他原因而拒绝添加一个元素，则必须抛出一个异常。</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> element: 确保要存在于此集合中的元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 是否添加成功</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span>: UnsupportedOperationException</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> UnsupportedOperationException: 如果此集合不支持添加操作</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> ClassCastException: 如果该元素类型与集合指定类型不兼容</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> NullPointerException: 如果指定的元素为null，并且此集合不允许使用null元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> IllegalArgumentException: 如果添加非法元素到此集合中</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> IllegalStateException: 如果由于插入限制当前无法添加元素</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(Element element)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: remove(Element element)方法用于删除元素。如果存在指定元素，则从此集合中删除指定元素，若删除成功则返回 true。</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> element: 要从此集合中删除的元素(如果存在)</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 是否删除成功</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Element element)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//===========批量操作===========</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: containAll(Collection&lt;?&gt; collection)用于查询集合中是否包含指定集合的所有元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> collection: 指定的集合</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: boolean 如果此集合包含指定集合的所有元素，则为true</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">containAll</span><span class="params">(Collection&lt;?&gt; collection)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: addAll(Collection&lt;? extends Element&gt; collection)用于向集合中添加指定集合的所有元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> collection:  指定的集合</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 如果此集合由于调用而更改，则为true</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends Element&gt; collection)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: removeAll(Collection&lt;?&gt; collection)用于从集合中删除同时存在于指定集合中的元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> collection: 指定的集合</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 如果此集合由于调用而更改，则为true</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; collection)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: remainAll(Collection&lt;Element&gt; collection)用于从此集合中删除所有未包含在指定集合中的元素</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> collection:  指定的集合</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 如果此集合由于调用而更改，则为true</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">remainAll</span><span class="params">(Collection&lt;?&gt; collection)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: clear()用于清空集合，执行此操作后集合将没有元素</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//===========比较与哈希===========</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: equals(Object obj)方法用于比较此集合与指定对象是否相等。</span></span><br><span class="line"><span class="comment">    * 若是开发者直接实现Collection接口(即不是MyList接口或者MySet接口的实现类),不建议重写equals方法，建议直接使用Object方法里的equals方</span></span><br><span class="line"><span class="comment">    * 法。</span></span><br><span class="line"><span class="comment">    * 在Object.equals方法的常规协定声称:相等必须是对称的(a.equals(b)的结果应该与b.equals(a)相同)。在MyList.equals方法和MySet方法的</span></span><br><span class="line"><span class="comment">     * 常规协定声称MyList集合只能和MyList集合相等，MySet集合只能和MySet集合相等。因此，对于一个不实现MyList集合与MySet集合的Collection</span></span><br><span class="line"><span class="comment">     * 集合，当Collection集合的元素与MyList的和MySet的元素进行比较时，常规的equals方法必须返回false，也就是说，不存在一个既实现MyList</span></span><br><span class="line"><span class="comment">     * 接口又实现MySet接口的实现类。</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> obj: 该集合进行相等性比较的对象</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: boolean</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span>: Collection中没有对hashCode方法有常规协定，所以应该遵守Object.hashCode的常规协定。</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span>: 返回此集合的哈希值</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="2-2-AbstractCollection部分源码"><a href="#2-2-AbstractCollection部分源码" class="headerlink" title="2.2 AbstractCollection部分源码"></a>2.2 AbstractCollection部分源码</h2>
    </div>
</div>

<p>AbstractCollection为Collection的抽象实现类</p>
<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        AbstractCollection接口示例
    </div>
    <div class='spoiler-content'>
        <figure class="highlight java"><figcaption><span>AbstractMyCollection接口</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 此类提供了Collection接口的基本实现，以最大程度地减少实现此接口所需的工作。</span></span><br><span class="line"><span class="comment"> * 要实现不可修改的集合，只需扩展此类并为iterator和size方法提供实现。 （由iterator方法返回的迭代器必须实现hasNext和next 。）</span></span><br><span class="line"><span class="comment"> * 要实现可修改的集合，程序员必须另外重写此类的add方法（否则将抛出UnsupportedOperationException ），并且iterator方法返回的迭代器必须另外</span></span><br><span class="line"><span class="comment"> * 实现其remove方法。</span></span><br><span class="line"><span class="comment"> * 根据Collection接口规范中的建议，程序员通常应提供一个返回值为void（无参数）和Collection构造函数。</span></span><br><span class="line"><span class="comment"> * 此类中每个非抽象方法的文档都详细描述了其实现。 如果正在实现的集合允许更有效的实现，则可以覆盖这些方法中的每一个</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span>: 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span>: jdk1.8</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractCollection</span>&lt;<span class="title">Element</span>&gt; <span class="keyword">implements</span> <span class="title">Collection</span>&lt;<span class="title">Element</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: 构造函数，隐式调用</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">AbstractCollection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//=============查询操作===============</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: size()方法用于返回此集合中的元素数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 此集合中元素的数量</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: isEmpty()方法用于查询集合是否为空</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 如果集合没有元素则返回 true</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj : 将要检查是否存在于此集合中的元素,</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassCastException:   如果指定元素的类型与此集合不兼容（可选）</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException: 如果指定的元素为null，并且此集合不允许为null的元素（可选)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: 此实现对集合中的元素进行迭代，依次检查每个元素与指定元素的相等性。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 如果此集合包含指定的元素，则返回true</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contain</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//获取迭代器</span></span><br><span class="line">        Iterator&lt;Element&gt; iterator = iterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//指定元素为null</span></span><br><span class="line">            <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (iterator.next() == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">//遍历的集合中有元素为null</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//指定元素不为null</span></span><br><span class="line">            <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (iterator.equals(obj)) &#123;</span><br><span class="line">                    <span class="comment">//遍历的集合中有与指定元素相同的元素</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: iterator()方法用于获得用于遍历数组的迭代器。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 返回一个包含该集合元素的迭代器。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> Iterator&lt;Element&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: toArray()方法返回一个包含集合所有元素的Object类型的数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: Object类型的数组</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object[] toArray() &#123;</span><br><span class="line">        <span class="comment">//预估返回数组长度为当前集合的size</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建迭代器</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//假设数组刚好能装下集合中所有元素</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果集合元素少于预期，提前结束，返回数组</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果元素多于于预期，继续遍历，直至遍历完返回数组副本</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Object[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array : 指定一个用于存放所有元素的Type类型的数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: toArray(Type[] array)方法指定一个Type类型的数组，将集合中的所有元素存入其中(要求集合中的元素也是Type类型或其子类型)</span></span><br><span class="line"><span class="comment">     * ,若指定数组不能容纳集合中的所有元素，则将创建一个长度与集合元素数量相等的数组，然后将所有集合元素存入其中并返回。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 存放着所有元素的数组</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object[] toArray(Object[] array) &#123;</span><br><span class="line">        <span class="comment">//预估返回数组长度：判断指定数组的长度是否能容纳集合中的所有元素，若不能则需进行加宽操作</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//假设数组刚好能装下集合中所有元素</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果集合元素少于预期，提前结束，并将后续元素置为null，返回数组</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果元素多于于预期，继续遍历，直至遍历完返回数组副本</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Object[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//=============修改操作===============</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> o : 确保要存在于此集合中的元素</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: add方法用于确保集合中包含指定元素。如果添加成功，则返回true。如果集合不允许元素重复,且集合中已经包</span></span><br><span class="line"><span class="comment">     * 含指定元素，此时返回false，除此原因之外，集合因为其他原因而拒绝添加一个元素，则必须抛出一个异常。</span></span><br><span class="line"><span class="comment">     * 关于此实现：</span></span><br><span class="line"><span class="comment">     * AbstractCollection类未定义底层存储元素的数据结构，无法实现add方法</span></span><br><span class="line"><span class="comment">     * 此实现始终抛出 UnsupportedOperationException(不支持操作异常)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 是否添加成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;不支持add方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> o : 要从此集合中删除的元素(如果存在)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: remove(Element element)方法用于删除元素。如果存在指定元素，则从此集合中删除指定元素，若删除成功则返回 true。</span></span><br><span class="line"><span class="comment">     * 关于此实现：</span></span><br><span class="line"><span class="comment">     * 此实现遍历集合以查找指定的元素。 如果找到该元素，则使用迭代器的remove方法从集合中删除该元素。</span></span><br><span class="line"><span class="comment">     * 请注意，如果此集合的iterator方法返回的迭代器未实现remove方法并且此集合包含指定的对象，则此实现将引发UnsupportedOperationException 。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 是否删除成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建迭代器</span></span><br><span class="line">        Iterator&lt;Element&gt; it = iterator();</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//如果指定删除元素为null</span></span><br><span class="line">            <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (it.next() == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">//且集合中元素存在元素为null，进行删除</span></span><br><span class="line">                    it.remove();</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//如果指定删除元素不为null</span></span><br><span class="line">            <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (o.equals(it.next())) &#123;</span><br><span class="line">                    <span class="comment">//且集合中存在元素与指定元素相等,进行删除</span></span><br><span class="line">                    it.remove();</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//否则删除失败</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//=========批量操作==========</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> collection : 检查是否包含在此集合中的集合</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: containAll(Collection &lt; ? &gt; collection)用于查询集合中是否包含指定集合的所有元素</span></span><br><span class="line"><span class="comment">     * 关于此实现:</span></span><br><span class="line"><span class="comment">     * 此实现迭代指定的集合，依次检查迭代器返回的每个元素以查看其是否包含在此集合中。 如果如此包含所有元素，则返回true ，否则返回false</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: boolean 如果此集合包含指定集合的所有元素，则为true</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//遍历集合每个元素</span></span><br><span class="line">        <span class="keyword">for</span> (Object element : collection) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!contain(element)) &#123;</span><br><span class="line">                <span class="comment">//只要有一个元素不包含,返回false</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//否则返回true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> collection :  指定的集合</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: addAll(Collection &lt; ? extends Element &gt; collection)用于向集合中添加指定集合的所有元素</span></span><br><span class="line"><span class="comment">     * 关于此实现：</span></span><br><span class="line"><span class="comment">     * 此实现迭代指定的集合，并将迭代器返回的每个对象依次添加到此集合。</span></span><br><span class="line"><span class="comment">     * 请注意，此实现将引发UnsupportedOperationException 除非重写了add方法。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 如果此集合由于调用而更改，则为true</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends Element&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义一个变量表示集合是否发生修改</span></span><br><span class="line">        <span class="keyword">boolean</span> isModifySuccess = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (Element element : collection) &#123;</span><br><span class="line">            <span class="keyword">if</span> (add(element)) &#123;</span><br><span class="line">                <span class="comment">//如果add方法执行成功，则将集合的修改状态变量设为true</span></span><br><span class="line">                isModifySuccess = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//返回集合的修改状态</span></span><br><span class="line">        <span class="keyword">return</span> isModifySuccess;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> collection : 指定的集合</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: removeAll(Collection &lt; ? &gt; collection)用于从集合中删除同时存在于指定集合中的元素</span></span><br><span class="line"><span class="comment">     * 关于此实现:</span></span><br><span class="line"><span class="comment">     * 此实现遍历此集合，依次检查迭代器返回的每个元素以查看其是否包含在指定的集合中。 如果包含了它，则使用迭代器的remove方法将其从此集合中删除。</span></span><br><span class="line"><span class="comment">     * 请注意，如果由迭代器方法返回的迭代器未实现remove方法，并且此集合包含一个或多个与指定集合相同的元素，则此实现将引发UnsupportedOperationException。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 如果此集合由于调用而更改，则为true</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//指定的集合不能为空，否则抛出空指针异常</span></span><br><span class="line">        Objects.requireNonNull(collection);</span><br><span class="line">        <span class="comment">//定义一个变量表示集合是否发生修改</span></span><br><span class="line">        <span class="keyword">boolean</span> isModifySuccess = <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">//定义一个迭代器用于遍历集合</span></span><br><span class="line">        Iterator&lt;?&gt; iterator = iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (collection.contains(iterator.next())) &#123;</span><br><span class="line">                <span class="comment">//如果集合中的元素同时存在于指定的集合中，则进行删除</span></span><br><span class="line">                iterator.remove();</span><br><span class="line">                isModifySuccess = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//返回集合修改状态</span></span><br><span class="line">        <span class="keyword">return</span> isModifySuccess;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> collection :  指定的集合</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: remainAll(Collection &lt; ? &gt; collection)用于从此集合中删除所有未包含在指定集合中的元素</span></span><br><span class="line"><span class="comment">     * 关于此实现:</span></span><br><span class="line"><span class="comment">     * 此实现遍历此集合，依次检查迭代器返回的每个元素以查看其是否包含在指定的集合中。 如果没有包含，则使用迭代器的remove方法将其从此集合中移除。</span></span><br><span class="line"><span class="comment">     * 请注意，如果iterator方法返回的迭代器未实现remove方法，并且此集合包含一个或多个指定集合中不存在的元素，则此实现将引发UnsupportedOperationException。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 如果此集合由于调用而更改，则为true</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remainAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//指定的集合不能为空，否则抛出空指针异常</span></span><br><span class="line">        Objects.requireNonNull(collection);</span><br><span class="line">        <span class="comment">//定义一个变量表示集合是否发生修改</span></span><br><span class="line">        <span class="keyword">boolean</span> isModifySuccess = <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">//定义一个迭代器用于遍历集合</span></span><br><span class="line">        Iterator&lt;?&gt; iterator = iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!collection.contains(iterator.next())) &#123;</span><br><span class="line">                <span class="comment">//如果集合中的元素不存在于指定的集合中，则进行删除</span></span><br><span class="line">                iterator.remove();</span><br><span class="line">                isModifySuccess = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//返回集合修改状态</span></span><br><span class="line">        <span class="keyword">return</span> isModifySuccess;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: clear()用于清空集合，执行此操作后集合将没有元素</span></span><br><span class="line"><span class="comment">     * 关于此实现：</span></span><br><span class="line"><span class="comment">     * 此实现遍历此集合，使用Iterator.remove操作删除每个元素。 大多数实现可能会选择重写此方法以提高效率。</span></span><br><span class="line"><span class="comment">     * 请注意，如果此集合的迭代器方法返回的迭代器未实现remove方法且该集合为非空，则此实现将引发UnsupportedOperationException 。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义一个该集合的迭代器</span></span><br><span class="line">        Iterator&lt;Element&gt; iterator = iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            <span class="comment">//如果元素存在，则将其从集合中删除</span></span><br><span class="line">            iterator.next();</span><br><span class="line">            iterator.remove();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//=========比较与哈希==========</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj : 该集合进行相等性比较的对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: equals(Object obj)方法用于比较此集合与指定对象是否相等。</span></span><br><span class="line"><span class="comment">     * 若是开发者直接实现Collection接口(即不是MyList接口或者MySet接口的实现类),不建议重写equals方法，建议直接使用Object方法里的equals方</span></span><br><span class="line"><span class="comment">     * 法。</span></span><br><span class="line"><span class="comment">     * 在Object.equals方法的常规协定声称:相等必须是对称的(a.equals(b)的结果应该与b.equals(a)相同)。在MyList.equals方法和MySet方法的</span></span><br><span class="line"><span class="comment">     * 常规协定声称MyList集合只能和MyList集合相等，MySet集合只能和MySet集合相等。因此，对于一个不实现MyList集合与MySet集合的Collection</span></span><br><span class="line"><span class="comment">     * 集合，当Collection集合的元素与MyList的和MySet的元素进行比较时，常规的equals方法必须返回false，也就是说，不存在一个既实现MyList</span></span><br><span class="line"><span class="comment">     * 接口又实现MySet接口的实现类。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: Collection中没有对hashCode方法有常规协定，所以应该遵守Object.hashCode的常规协定。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 返回此集合的哈希值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//=========字符串转换==========</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>: 返回此集合的字符串表示形式。</span></span><br><span class="line"><span class="comment">     * 关于此实现：</span></span><br><span class="line"><span class="comment">     * 字符串表示形式包含一个集合元素的列表，这些元素按其迭代器返回的顺序排列，并括在方括号（ “ []” ）中。</span></span><br><span class="line"><span class="comment">     * 相邻元素由字符“，” （逗号和空格）分隔。 元素通过String.valueOf(Object)转换为字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>: 对象的字符串表示形式。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义一个该集合的迭代器</span></span><br><span class="line">        Iterator&lt;Element&gt; iterator = iterator();</span><br><span class="line">        <span class="comment">//如果集合里没有元素，直接返回 []</span></span><br><span class="line">        <span class="keyword">if</span> (!iterator.hasNext())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;[]&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建字符串变量</span></span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        stringBuilder.append(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">        <span class="comment">//将集合里的元素逐个进行拼接</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="comment">//将元素进行拼接</span></span><br><span class="line">            Element element = iterator.next();</span><br><span class="line">            stringBuilder.append(element);</span><br><span class="line">            <span class="comment">//如果没有下一个元素，则将字符串返回</span></span><br><span class="line">            <span class="keyword">if</span> (! iterator.hasNext())&#123;</span><br><span class="line">                <span class="keyword">return</span> stringBuilder.append(<span class="string">&#x27;]&#x27;</span>).toString();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//否则将分隔符逗号&#x27;,&#x27;进行拼接</span></span><br><span class="line">            stringBuilder.append(<span class="string">&#x27;,&#x27;</span>).append(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>
</div>





<p>参考资料:</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/89891/what-are-the-benefits-of-the-iterator-interface-in-java">https://stackoverflow.com/questions/89891/what-are-the-benefits-of-the-iterator-interface-in-java</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html">https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903460194762760">https://juejin.cn/post/6844903460194762760</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yajunren/article/details/10312845">https://blog.csdn.net/yajunren/article/details/10312845</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html">https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jyg0723/article/details/80498840">https://blog.csdn.net/jyg0723/article/details/80498840</a></p>
<p>参考资料:</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/89891/what-are-the-benefits-of-the-iterator-interface-in-java">https://stackoverflow.com/questions/89891/what-are-the-benefits-of-the-iterator-interface-in-java</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html">https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903460194762760">https://juejin.cn/post/6844903460194762760</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yajunren/article/details/10312845">https://blog.csdn.net/yajunren/article/details/10312845</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html">https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jyg0723/article/details/80498840">https://blog.csdn.net/jyg0723/article/details/80498840</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JAVA-SE/" rel="tag"># JAVA SE</a>
              <a href="/tags/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/" rel="tag"># 集合框架</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/01/25/%E3%80%90%E5%B8%B8%E7%94%A8%E7%B1%BB%E3%80%91%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB/" rel="prev" title="【常用类】字符串类">
                  <i class="fa fa-chevron-left"></i> 【常用类】字符串类
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/01/29/%E3%80%90%E9%9B%86%E5%90%88%E3%80%91ArrayList%E8%AF%A6%E8%A7%A3/" rel="next" title="【集合】ArrayList详解">
                  【集合】ArrayList详解 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chiayhon</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
